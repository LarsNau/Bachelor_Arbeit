%========================================================================================
% TU Dortmund, Informatik Lehrstuhl VII
%========================================================================================

\chapter{Evaluation}
\label{Evaluation}

Dei Ausrichtung eines Bauteils ist in den meisten Fällen nicht perfekt. In diesem Kapitel wird behandelt wie gut das in Kapitel \ref{Punktwolkenverarbeitung zur Bauteilausrichtung} erstellte Neurales Netz ein Bauteil ausrichten kann.
Dafür wird nicht nur die Ausrichung selber überprüft. Es wird auch die größe der Rotationen untersucht, da das drehen eines Bauteil Zeit kostet und die minimierung diser Drehung wie in \ref{Fertigungs-Geschwindigkeit} erwähnt eine Priorität ist.
Außerdem wird die Fähigkeit des neuralen Netzes Fehler in den Daten zu wiederstehen in Abschnitt \ref{Verlässlichkeit} überprüft und die Fähigkeit auf komplexen Bauteilen zu arbeiten in Abschnitt \ref{Generalisierbarkeit} getestet.



\begin{figure}[h]
    \centering
    \includegraphics[scale=0.2]{bilder/Daten.png}
    \caption[Darstellung aller Typen von Bauteilen im Datensatz]{Darstellung aller Typen von Bauteilen im Datensatz}
            \label{Darstellung aller Typen von Bauteilen im Datensatz}
    \quelle\url{https://media.springernature.com/full/springer-static/image/art%3A10.1007%2Fs40964-025-00960-6/MediaObjects/40964_2025_960_Fig1_HTML.png}
\end{figure}

Alle Daten, die für die Auswertung benutzt werden, sind in dem Artickel: \cite{Datensatz} erstellt worden und dann wie in Kapitel \ref{Flächensuche in  Bauteilen} beschrieben verändert worden.
Die Abbilding \ref{Darstellung aller Typen von Bauteilen im Datensatz} stellt alle Typen von Bauteilen dar, die in dem Datensatz enthalten sind. Es gebt insgesammt 4 verschiedene Typen, die alle einfache geometrische Objekt sind. 
Die Typen sind von A bis D durchnummeriert.

Für alle Tests werden 1000 zufällige Flächen aus dem Datensatz genommen. Diese Flächen werden wie in Kapitel \ref{Punktwolkenverarbeitung zur Bauteilausrichtung} beschrieben gefunden. Tests haben ergeben, 
dass das Verwenden von einem Datensatz mit mehr als 1000 Flächen keinen Einfluss auf das Ergebniss hat. 

\section{Ausrichtung der Bauteile}
\label{Ausrichtung der Bauteile}

Die Ausrichtung der Bauteile ist das Ziel der Arbeit. Dementsprechend ist es die wichtigste Metrik für den Erfolgt des neuronalen Netzes.

\section{Minimierung der Bewegung}
\label{Minimierung der Bewegung}

Die Minimierung der Bewegung ist wichtig, da jede Drehung eines Bauteils Zeit kostet. Als zweites Ziel des Netzes wird dementsprechend versucht, die Größe der Drehung des Bauteils zu minimieren.

\smallskip



\section{Verlässlichkeit der Ausrichtung}
\label{Verlässlichkeit der Ausrichtung}

In dem bisherigen Test ist immer davon ausgegangen worden, dass die Punktwolken eine perfekte Darstellung des Bauteils sind. In der Praxis, muss aber davon ausgegangen werden, dass die Punktwolken Fehler aufweisen.

\subsection{Effekt von Rauschen auf den Daten}
\label{Effekt von Rauschen auf den Daten}

Eine Fläche eines Bauteils, die Punkte beinhaltet, die nicht zu der Fläche gehören, kann das Ergebnis des neuronalen Netzes stark beeinflussen. Dieser Fehler könnte durch schlechtes Clustering entsehen, wenn zwei Flächen nicht richtig getrennt werden.
Punkte die nicht zu der Fläche gehören, aber dennoch in der Punktwolke der Fläche enthalten sind, werden als Rauschen (engl. Noise) bezeichnet. Um den Einfluss von Rauschen auf das Netz zu bestimmen, werden Punkte zu sonst korrekten Flächen hinzugefügt.

\begin{figure}[h]
    \centering
    \includegraphics[scale=0.5]{bilder/Noise.png}
    \caption[Test mit Noise auf dem Neuralen Netz]{Test mit Noise auf dem Neuralen Netz}
            \label{Test mit Noise auf dem Neuralen Netz}
\end{figure}

Die Abbildung \ref{Test mit Noise auf dem Neuralen Netz} zeigt die Ergebnisse des Tests. Um Noise zu simulieren, wurden für jede Fläche um das Zentrum der Fläche zufällig Punkte verteilt. 
Dabei wurden die Punkte normalverteilt, sodass die meisten Punkte nahe der Fläche sind. Die zufällige Verteilung bricht die köhärent Struktur der Fläche auf. In der Abbildung \ref{Test mit Noise auf dem Neuralen Netz} 
wurde der Unterschied des Normalvektors der Fläche zu der z-Achse in Orange aufgezeichnet,
die Standartabweichung des Normalvectors zu der z-Achse in Grün und die benötigte Größe der Drehung ist Blau. Die x-Achse der Abbilding zeigt das Rauschen. Dabei ist die Anzahl der Rauschpunkte gleich des Wertes auf der x-Achse mal 20. 
Die y-Achse zeigt die Ergebnisse bei den jeweiligen Rauschleveln. Abbilding \ref{Test mit Noise auf dem Neuralen Netz} zeigt, 
dass das Rauschen keinen großen Einfluss auf den Unterschied des Normalvektors der Fläche zu der z-Achse oder die benötigte Größe der Drehung hat. Auf die Standartabweichung des Normalvektors hat das Rauschen allerdings einen extremen Einfluss.
Sobald Rauschen hinzugefügt wird, steigt die Standartabweichung extrem an und bleibt dann bei dem Fehlermaß, zu dem es steigt unabhängig von weiterem Rauschen, dass hinzugefügt wird. Daraus lässt sich schließen, dass das Netz keine gute Fähigkeit hat, 
Rauschen zu widerstehen. Die absolute Ausrichtung in Orange bleibt zwar stabiel, aber da die Abwichung von diesem Durchschnitt extrem ansteigt, ist das Ergebnis unzuverlässig.

\subsection{Effekt von schlechter Flächensuche}
\label{Effekt von schlechter Flächensuche}

Eine Fläche, die in einem Bauteil gefunden wurde, muss nicht immer perfekt die Fläche des Bauteils repräsentieren. Häufig werden Punkte, die zu der Fläche gehören sollten, nicht gefunden, was die Punktwolke keiner macht als sie es mit einer perfekten Suche wäre.
Der Einfluss von fehlenden Punkten in der Punktwolke einer Fläche wird getestet, indem über mehrere Iterationen Punkte aus den Punktwolken entfernt werden. Die Anzahl der Punkte basiert auf einem Prozentsatz, der sich mit jeder Iteration erhöht. 
Durch das Verwenden von Prozentsätzen wird sichergestellt, dass die Ergebnisse unabhängig von der ursprünglichen Größe der Punktwolke sind.

\begin{figure}[h]
    \centering
    \includegraphics[scale=0.5]{bilder/Punke_entfernen.png}
    \caption[Test von schlechter Flächensuche auf dem Neuralen Netz]{Test von schlechter Flächensuche auf dem Neuralen Netz}
            \label{Test von schlechter Flächensuche auf dem Neuralen Netz}
\end{figure}

Die Abbildung \ref{Test von schlechter Flächensuche auf dem Neuralen Netz} zeigt den Verlusst an Genauigkeit des Netzes, wenn Punkte aus der Punktwolke entfernt werden. Auf der x-Achse ist der Prozentsatz der entfernten Punkte dargestellt, 
auf der y-Achse ist das Ergebnis der Tests dargestellt. Die Abweichung von dem Normalvektor der Fläche und der z-Achse  sind beide nahezu unverändert, wenn Punkte entfernt werden. Die Standartabweichung des Normalvektors bleibt für die ersten 60 \%, ebenfalls
fast unverändert. Erst nachdem 60 \% der Punkte entfernt wurden, steigt die Standartabweichung stark an. Bei 90 \% entfernten Punkten ist die Standartabweichung fast bei 45 Grad angekommen, was bedeutet, das bei einem so hohen Verlusst das Ergebnis kaum besser als Zufall ist.
Aber bis zu diesem Punkt zeigt das Netz eine gute Fähigkeit, fehlende Punkte in der Punktwolke zu widerstehen. Ein Verlusst von über 60 \% der Punkte ist extrem unwahrscheinlich in der Praxis. Das netz zeigt also eine gute Wiederstandfähigkeit gegen schlechte Flächensuche.

\section{Generalisierbarkeit}
\label{Generalisierbarkeit}

Alle bisherigen Auswertungen wurden auf den gleichen Typen von Daten durchgeführt, auf denen das Netz auch trainiert wurde. Um die Verlässlichkeit des Netzes zu überprüfen wird in diesem Abschnitt getestet, ob das Netz auch auf komplexeren Bauteilen arbeiten kann.
Für diesen Zweck wurden mehrere komplexe Bauteile getestet, komplex bedeutet in diesem Fall, dass die Bauteile nicht aus einfachen geometrischen Formen bestehen, sondern gebogene Flächen und komplexe Strukturen beinhalten.

\begin{table}[t]
\centering
\begin{tabular}{lrr}
\toprule
Bauteil & Gradabweichung vom Optimum & Bewegung des Bauteils\\
\midrule
Stanford Hase & 10.76 & 17.29 \\ \addlinespace
Stanford Drache & 11.61 & 25.02 \\ \addlinespace
Utah Teapot & 10.84 & 26.72\\
\bottomrule
\end{tabular}
\caption{Testergebnisse auf komplexen Bauteilen}
\label{table:Testergebnisse auf komplexen Bauteilen}
\end{table}

Alle Angaben in der Tabelle \ref{table:Testergebnisse auf komplexen Bauteilen} sind Durchschnittswerte über alle Flächen eines Bauteils. Die Ergebnisse sind immer in Grad und für jedes bauteil einzeln angegeben. 
Es lässt sich erkennen, dass die Abweichung vom Optimum bei komplexen Bauteilen höher ist, als bei den einfachen Bauteilen, die in Abschnitt \ref{Ausrichtung der Bauteile} getestet wurden. Die Abweichung vom Optimum liegt bei allen komplexen Bauteilen bei etwa 11 Grad.
Der geringe Unterschied zwischen den Ergebnissen der komplexen Bauteile lässt darauf schiezen, dass die Auswahl der komplexen Bauteile eine gute Repräsentation für komplexe Bauteile im Allgemeinen ist. 
Allerding ist die Bewegung des Bauteils bei dem Stanford Hasen deutlich geringer als bei den anderen beiden Bauteilen. Der Unterschied könnte daran liegen, dass der Stanford Hase nur eine Gundfläche hat. Grundfächen werden immer für hohe Bewegung sorgen, 
da die optimale Ausrichtung meistens im 90 Grad Winkel zu der Grundflächge liegt. Der Stanford Drache und die Utah Teapot haben beide mehrere Grundflächen, was die Bewegung des Bauteils erhöhen könnte.

